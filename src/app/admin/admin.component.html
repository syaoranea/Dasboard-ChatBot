<div class="flex h-screen overflow-hidden bg-[var(--gray-50)]">
  <!-- Sidebar -->
  <aside class="sidebar w-72 bg-white border-r border-[var(--gray-200)] flex-shrink-0 hidden lg:flex flex-col">
    <!-- Logo Section -->
    <div class="p-6 border-b border-[var(--gray-200)]">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-700)] flex items-center justify-center">
          <i class="fas fa-chart-pie text-white text-lg"></i>
        </div>
        <div>
          <h1 class="text-lg font-bold text-[var(--gray-900)]">Admin Panel</h1>
          <p class="text-xs text-[var(--gray-500)]">Sistema de Gestão</p>
        </div>
      </div>
    </div>

    <!-- Navigation -->
    <nav class="flex-1 px-4 py-6 space-y-1 overflow-y-auto">
      <p class="px-3 mb-3 text-xs font-semibold text-[var(--gray-400)] uppercase tracking-wider">Menu Principal</p>
      @for (item of navItems; track item.id) {
        <a [routerLink]="item.route" 
           routerLinkActive="nav-active"
           class="nav-item group flex items-center gap-3 px-3 py-2.5 rounded-lg text-[var(--gray-600)] hover:bg-[var(--gray-100)] hover:text-[var(--gray-900)] transition-all duration-200">
          <div class="w-9 h-9 rounded-lg bg-[var(--gray-100)] group-hover:bg-[var(--primary-100)] flex items-center justify-center transition-colors duration-200">
            <i class="fas {{ item.icon }} text-sm text-[var(--gray-500)] group-hover:text-[var(--primary-600)] transition-colors duration-200"></i>
          </div>
          <span class="font-medium">{{ item.label }}</span>
        </a>
      }
    </nav>

    <!-- User Section -->
    <div class="p-4 border-t border-[var(--gray-200)]">
      <div class="flex items-center gap-3 p-3 rounded-lg bg-[var(--gray-50)]">
        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-[var(--primary-400)] to-[var(--primary-600)] flex items-center justify-center">
          <i class="fas fa-user text-white text-sm"></i>
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-sm font-medium text-[var(--gray-900)] truncate">Administrador</p>
          <p class="text-xs text-[var(--gray-500)]">Admin</p>
        </div>
        <button (click)="logout()" class="p-2 text-[var(--gray-400)] hover:text-[var(--error-500)] hover:bg-[var(--error-50)] rounded-lg transition-all" title="Sair">
          <i class="fas fa-sign-out-alt"></i>
        </button>
      </div>
    </div>
  </aside>

  <!-- Mobile Menu Overlay -->
  @if (mobileMenuOpen) {
    <div class="fixed inset-0 bg-black/40 backdrop-blur-sm z-40 lg:hidden animate-fadeIn" (click)="toggleMobileMenu()"></div>
    <aside class="fixed left-0 top-0 h-full w-72 bg-white z-50 lg:hidden flex flex-col shadow-xl animate-slideUp">
      <!-- Logo Section -->
      <div class="p-6 border-b border-[var(--gray-200)]">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-700)] flex items-center justify-center">
              <i class="fas fa-chart-pie text-white text-lg"></i>
            </div>
            <div>
              <h1 class="text-lg font-bold text-[var(--gray-900)]">Admin Panel</h1>
              <p class="text-xs text-[var(--gray-500)]">Sistema de Gestão</p>
            </div>
          </div>
          <button (click)="toggleMobileMenu()" class="p-2 text-[var(--gray-400)] hover:text-[var(--gray-600)] hover:bg-[var(--gray-100)] rounded-lg transition-all">
            <i class="fas fa-times text-lg"></i>
          </button>
        </div>
      </div>

      <!-- Navigation -->
      <nav class="flex-1 px-4 py-6 space-y-1 overflow-y-auto">
        <p class="px-3 mb-3 text-xs font-semibold text-[var(--gray-400)] uppercase tracking-wider">Menu Principal</p>
        @for (item of navItems; track item.id) {
          <a [routerLink]="item.route" 
             routerLinkActive="nav-active"
             (click)="switchTab(item.id)"
             class="nav-item group flex items-center gap-3 px-3 py-2.5 rounded-lg text-[var(--gray-600)] hover:bg-[var(--gray-100)] hover:text-[var(--gray-900)] transition-all duration-200">
            <div class="w-9 h-9 rounded-lg bg-[var(--gray-100)] group-hover:bg-[var(--primary-100)] flex items-center justify-center transition-colors duration-200">
              <i class="fas {{ item.icon }} text-sm text-[var(--gray-500)] group-hover:text-[var(--primary-600)] transition-colors duration-200"></i>
            </div>
            <span class="font-medium">{{ item.label }}</span>
          </a>
        }
      </nav>

      <!-- User Section -->
      <div class="p-4 border-t border-[var(--gray-200)]">
        <div class="flex items-center gap-3 p-3 rounded-lg bg-[var(--gray-50)]">
          <div class="w-10 h-10 rounded-full bg-gradient-to-br from-[var(--primary-400)] to-[var(--primary-600)] flex items-center justify-center">
            <i class="fas fa-user text-white text-sm"></i>
          </div>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-medium text-[var(--gray-900)] truncate">Administrador</p>
            <p class="text-xs text-[var(--gray-500)]">Admin</p>
          </div>
          <button (click)="logout()" class="p-2 text-[var(--gray-400)] hover:text-[var(--error-500)] hover:bg-[var(--error-50)] rounded-lg transition-all" title="Sair">
            <i class="fas fa-sign-out-alt"></i>
          </button>
        </div>
      </div>
    </aside>
  }

  <!-- Main Content -->
  <main class="flex-1 flex flex-col overflow-hidden">
    <!-- Top Header -->
    <header class="h-16 bg-white border-b border-[var(--gray-200)] flex items-center justify-between px-4 lg:px-8 flex-shrink-0">
      <div class="flex items-center gap-4">
        <button (click)="toggleMobileMenu()" class="lg:hidden p-2 text-[var(--gray-500)] hover:text-[var(--gray-700)] hover:bg-[var(--gray-100)] rounded-lg transition-all">
          <i class="fas fa-bars text-xl"></i>
        </button>
        <div class="hidden sm:block">
          <h2 class="text-lg font-semibold text-[var(--gray-900)]">{{ getCurrentPageTitle() }}</h2>
        </div>
      </div>
      <div class="flex items-center gap-3">
        <button class="p-2 text-[var(--gray-400)] hover:text-[var(--gray-600)] hover:bg-[var(--gray-100)] rounded-lg transition-all relative">
          <i class="fas fa-bell text-lg"></i>
          <span class="absolute top-1 right-1 w-2 h-2 bg-[var(--error-500)] rounded-full"></span>
        </button>
        <a routerLink="/admin/empresa" class="p-2 text-[var(--gray-400)] hover:text-[var(--gray-600)] hover:bg-[var(--gray-100)] rounded-lg transition-all" title="Configuracoes da Empresa">
          <i class="fas fa-cog text-lg"></i>
        </a>
      </div>
    </header>

    <!-- Page Content -->
    <div class="flex-1 overflow-y-auto p-4 lg:p-8">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>
